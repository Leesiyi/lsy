<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="./vue/vue.js"></script>
</head>
<body>
    <div id="app">
        <cc :str="num"></cc>
        <ww @addc="add"></ww>
        
    </div>
    <script>
        new Vue({
            el:"#app",
            data:{
                msg:"234",
                num:1,
            },
            methods:{
                add(){
                    this.num++
                }
            },
            components:{
                "cc":{
                    template:`<h1>hello {{str}}</h1>
                    `,
                    props:["str"]
                },
                "ww":{
                    template:`<button @click="addnum" :value="">add</button>
                    `,
                    methods:{
                        addnum(){
                            this.$emit("addc")
                        }
                    }
                }
            }
        })
        
        
        // Object.prototype.toString.this(arr)
    </script>
</body>
</html>
jieliu(fn, interval) {
    let _self =fn;
    let timer; //定时器
    let firstTime =true;//是否第一次调用
    return function () {
        let args = arguments;
        let _me = this;
        //如果第一次执行，不需要延迟
        if(firstTime){
            _self.apply(_me,args);
            return firstTime =false;
        }
       //如果定时器还在，说明上一次调用还没有完成
        if(timer){
            return false;
        }
        //延迟1段事件执行
        timer = setTimeout(function () {
            clearTimeout(timer);//清理定时器
            timer =null;//闭包内存释放
            _self.apply(_me,args);//返回的新函数、参数借用源函数执行
        },interval||500)
    }
}

